.module-columns {
    .introduction {
        padding: 0 #{$quadrogutter * 1.5};
        margin: 0 auto;
        max-width: calc(535px * 2 - #{$quadrogutter});
        &.solo {
            max-width: calc(535px - #{$quadrogutter});
        }
        &.third {
            max-width: calc(535px * 3 - #{$quadrogutter});
        }
        &.fourth {
            max-width: calc(535px * 4 - #{$quadrogutter});
        }
    }
    .container-columns {
        padding: 0 $quadrogutter;
    }
    .columns {
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: flex-start;
        flex-wrap: wrap;
        position: relative;
        width: calc(100% + #{$quadrogutter * 2});
        margin: 0 0 0 -#{$quadrogutter};
        padding: 0 #{$doublegutter} 0;
        img {
            display: block;
            &.alignleft {
                left: 0;
                margin-right: auto;
                float: none;
            }
            &.aligncenter {
                left: 0;
                right: 0;
                margin: auto;
            }
            &.alignright {
                right: 0;
                margin-left: auto;
                float: none;
            }
        }
    }
    .column {
        flex: 1 1 auto;
        width: 50%;
        min-width: calc((#{$desktop-small} - #{$quadrogutter}) / 2);
        max-width: 535px;
        padding: 0 #{$quadrogutter * 2} 0;
        margin-bottom: $quadrogutter;
        box-sizing: border-box;
    }
    .solo {
        .column {
            align-self: center;
            &:nth-child(2) {
                display: none;
            }
        }
    }
    .third {
        .column {
            width: 33%;
            min-width: calc((#{$desktop} - #{$quadrogutter}) / 3);
        }
    }
    .fourth {
        .column {
            width: 25%;
            min-width: calc((#{$desktop} - #{$quadrogutter}) / 4);
        }
    }
}

@media (max-width: $desktop) {
    .module-columns {
        .third {
            .column {
                width: 50%;
                max-width: 50%;
                min-width: calc((#{$tablet} - #{$quadrogutter}) / 2);
            }
        }
        .fourth {
            .column {
                width: 33%;
                max-width: 33%;
                min-width: calc((#{$desktop-small} - #{$quadrogutter}) / 3);
            }
        }
    }
}

@media (max-width: $desktop-small) {
    .module-columns {
        .introduction {
            max-width: calc(535px - #{$quadrogutter});
            &.fourth {
                max-width: calc(780px - #{$quadrogutter * 2});
            }
        }
        .fourth {
            .column {
                width: 25%;
                max-width: 25%;
                min-width: calc((#{$tablet} - #{$quadrogutter}) / 2);
            }
        }
    }
}

@media (max-width: $tablet) {
    .module-columns {
        .introduction {
            padding: 0 calc(#{$gutter} / 2);
            &.third,
            &.fourth {
                padding: 0;
                max-width: calc(535px - #{$quadrogutter});
            }
        }
        .column {
            width: 535px;
            max-width: 535px;
            min-width: 535px;
            padding: 0 #{$doublegutter} 0;
        }
        .third,
        .fourth {
            .column {
                width: 535px;
                max-width: 535px;
                min-width: 535px;
            }
        }
    }
}

@media (max-width: $phone) {
    .module-columns {
        .introduction {
            margin: 0;
            max-width: none;
            padding: 0;
            &.solo,
            &.third,
            &.fourth {
                max-width: none;

            }
        }
        .container-columns {
            padding: 0 $doublegutter;
        }
        .columns {
            width: 100%;
            margin: 0;
            padding: 0;
        }
        .column {
            width: 100%;
            min-width: 100%;
            margin: 0;
            padding: 0;
        }
        .solo,
        .third,
        .fourth {
            .column {
                min-width: 100%;
            }
        }
    }
}
